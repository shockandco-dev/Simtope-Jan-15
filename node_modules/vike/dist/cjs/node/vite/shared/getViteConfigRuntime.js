"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getViteConfigRuntime = getViteConfigRuntime;
const utils_js_1 = require("../utils.js");
const getOutDirs_js_1 = require("./getOutDirs.js");
function getViteConfigRuntime(config) {
    (0, utils_js_1.assert)((0, utils_js_1.hasProp)(config, '_baseViteOriginal', 'string'));
    const { outDirRoot } = (0, getOutDirs_js_1.getOutDirs)(config, undefined);
    (0, utils_js_1.assertFilePathAbsoluteFilesystem)(outDirRoot);
    const viteConfigRuntime = {
        root: config.root,
        build: {
            outDir: outDirRoot,
        },
        _baseViteOriginal: config._baseViteOriginal,
        vitePluginServerEntry: {
            inject: config.vitePluginServerEntry?.inject,
        },
    };
    return viteConfigRuntime;
}
