"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeSuperfluousViteLog = removeSuperfluousViteLog;
exports.removeSuperfluousViteLog_enable = removeSuperfluousViteLog_enable;
exports.removeSuperfluousViteLog_disable = removeSuperfluousViteLog_disable;
const utils_js_1 = require("../../utils.js");
const globalObject = (0, utils_js_1.getGlobalObject)('removeSuperfluousViteLog.ts', {
    enabled: false,
});
const superfluousLog = 'Forced re-optimization of dependencies';
function removeSuperfluousViteLog(msg) {
    if (!globalObject.enabled) {
        return false;
    }
    if (msg.toLowerCase().includes('forced') && msg.toLowerCase().includes('optimization')) {
        (0, utils_js_1.assert)(msg === superfluousLog, msg); // assertion fails => Vite changed its message => update this function
        return true;
    }
    return false;
}
function removeSuperfluousViteLog_enable() {
    globalObject.enabled = true;
}
function removeSuperfluousViteLog_disable() {
    globalObject.enabled = false;
}
